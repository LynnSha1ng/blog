import{d as $,u as H,s as L,c as S,o as s,a as p,b as t,e as n,w as E,v as I,t as g,f as q,n as G,g as B,_ as V,h as M,i as O,j as U,r as J,k as z,l as d,m,p as k,B as K,T as Q,q as W,F as D,x as N,y as R,z as _,A as P,C as X,D as Y}from"./index-BGCQAOJF.js";import{u as Z}from"./composable-CKSXl1UE.js";const tt=["src"],et={class:"post-info"},st={class:"post-title"},at={class:"post-meta"},ot={class:"date-related"},nt={class:"publish-time"},it=["datetime"],rt={class:"last-modify-time"},lt=["datetime"],ct=$({__name:"PostCover",setup(T){const i=H(),{postInfo:a}=i,{ready:h,atPostPage:y}=L(i),v=S(()=>{if(a.birthTime!=="")return`发表于${B(a.birthTime)}`}),u=S(()=>{if(a.mTime!=="")return`最后修改于${B(a.mTime)}`});return(x,r)=>(s(),p("section",{class:G({"post-banner":!0,"--shown":n(y)})},[t("img",{class:"cover-img",src:n(a).coverUrl},null,8,tt),r[3]||(r[3]=t("div",{class:"banner-mask"},null,-1)),E(t("header",et,[t("h1",st,g(n(a).title),1),t("div",at,[t("div",ot,[t("span",nt,[r[0]||(r[0]=t("i",{class:"meta-icon iconfont icon-calendar"},null,-1)),t("time",{class:"meta-txt",datetime:n(a).birthTime},g(v.value),9,it)]),t("span",rt,[r[1]||(r[1]=t("i",{class:"meta-icon iconfont icon-edit"},null,-1)),t("time",{class:"meta-txt",datetime:n(a).birthTime},g(u.value),9,lt)])]),r[2]||(r[2]=q('<div class="cont-related" data-v-0ae6bfa5><span class="post-length" data-v-0ae6bfa5><i class="meta-icon iconfont icon-text" data-v-0ae6bfa5></i><span class="meta-txt" data-v-0ae6bfa5>共字</span></span><span class="read-time" data-v-0ae6bfa5><i class="meta-icon iconfont icon-time" data-v-0ae6bfa5></i><span class="meta-txt" data-v-0ae6bfa5>读完大约需要</span></span></div>',1))])],512),[[I,n(h)]])],2))}}),dt=V(ct,[["__scopeId","data-v-0ae6bfa5"]]),mt={key:0,class:"side-cards"},ut={class:"info-card",key:"side-card-categories"},_t={class:"categories"},pt=["onClick"],gt={class:"category-label"},ft={class:"category-total"},ht={class:"info-card",key:"side-card-tags"},vt={class:"tags"},yt=["onClick"],kt={class:"tag-label"},bt={class:"tag-total"},Ct=$({__name:"SideCards",async setup(T){let i,a;const{mounted:h}=Z(),{cate:y,tag:v}=([i,a]=M(()=>O()),i=await i,a(),i);function u(l,e){let c=[],o=!1;if(l){const f=Array.isArray(l)?l:Object.entries(l);c=f.slice(0,e),o=f.length>e}return{shownData:c,hasMore:o}}const{shownData:x,hasMore:r}=u(y,8),{shownData:j,hasMore:A}=u(v,75),b=U("bloggerCard"),w=J(""),F=l=>{if(!b.value)return;const e=b.value.$el,c=l.getBoundingClientRect().top,o=e.getBoundingClientRect().top;w.value=`${(c-o).toFixed(4)}px`};return(l,e)=>{const c=z("RouterLink");return s(),d(P,{name:"side-card-appear"},{default:m(()=>[n(h)?(s(),p("aside",mt,[k(K,{key:"side-card-blogger",ref_key:"bloggerCard",ref:b},null,512),n(h)?(s(),d(Q,{key:0,name:"card-toggle",tag:"div",class:"sticky-cards",style:W({"--relative-top":w.value}),onBeforeLeave:F},{default:m(()=>[e[4]||(e[4]=t("section",{class:"info-card",key:"side-card-announcement"},[t("h3",null,[t("i",{class:"title-icon shake-loudspeaker iconfont icon-zizhutuiguang"}),t("span",{class:"title-label"},"公告")]),t("div",{class:"announcement-content"},[t("p",null,"欢迎来到我的个人博客！"),t("p",null,"本博客还在建设中，正在积极优化浏览体验~")])],-1)),l.$route.name!=="categories"?(s(),p("section",ut,[e[1]||(e[1]=t("h3",null,[t("i",{class:"title-icon iconfont icon-wenjianjia"}),t("span",{class:"title-label"},"分类")],-1)),t("ul",_t,[(s(!0),p(D,null,N(n(x),([o,f])=>(s(),d(c,{key:`side-card-cate-${o}`,custom:"",to:{name:":categoryName",params:{categoryName:o}}},{default:m(({navigate:C})=>[t("li",{class:"category-item",onClick:C,role:"link"},[t("span",gt,g(o),1),t("span",ft,"（"+g(f)+"）",1)],8,pt)]),_:2},1032,["to"]))),128))]),n(r)?(s(),d(c,{key:0,to:{name:"categories"},class:"has-more"},{default:m(()=>e[0]||(e[0]=[R(" 查看更多 ")])),_:1})):_("",!0)])):_("",!0),l.$route.name!=="tags"?(s(),p("section",ht,[e[3]||(e[3]=t("h3",null,[t("i",{class:"title-icon iconfont icon-24gf-tags2"}),t("span",{class:"title-label"},"标签")],-1)),t("ul",vt,[(s(!0),p(D,null,N(n(j),([o,f])=>(s(),d(c,{key:`side-card-tag-${o}`,custom:"",to:{name:":tagName",params:{tagName:o}}},{default:m(({navigate:C})=>[t("li",{class:"tag-item",onClick:C,role:"link"},[t("span",kt,g(o),1),t("sup",bt,g(f),1)],8,yt)]),_:2},1032,["to"]))),128))]),n(A)?(s(),d(c,{key:0,to:{name:"tags"},class:"has-more"},{default:m(()=>e[2]||(e[2]=[R(" 查看更多 ")])),_:1})):_("",!0)])):_("",!0)]),_:1},8,["style"])):_("",!0)])):_("",!0)]),_:1})}}}),$t=V(Ct,[["__scopeId","data-v-52545f07"]]),Tt={class:"blog-home"},xt={class:"blog-content"},Bt=$({__name:"index",async setup(T){let i,a;return[i,a]=M(()=>X(1e3)),await i,a(),(h,y)=>{const v=z("RouterView");return s(),p("main",Tt,[k(dt),t("div",xt,[k($t),k(v,null,{default:m(({Component:u})=>[u?(s(),d(P,{key:0,name:"fade-slide-y",mode:"out-in"},{default:m(()=>[(s(),d(Y(u),{class:"pos-right-fill"}))]),_:2},1024)):_("",!0)]),_:1})])])}}});export{Bt as default};
