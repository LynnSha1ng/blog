import{d as T,s as F,c as S,o as s,a as _,b as t,u as n,w as H,v as E,t as p,e as I,n as P,f as x,_ as D,g as q,h as G,i as O,r as U,j as V,k as d,l as m,m as y,B as J,T as K,p as Q,F as N,q as B,x as R,y as u,z as M,A as W}from"./index-uMqEsHmy.js";import{u as X}from"./index-SJMcD4Wx.js";import{u as Y}from"./composable-C5Pmg7Gz.js";const Z=["src"],tt={class:"post-info"},et={class:"post-title"},st={class:"post-meta"},at={class:"meta-line"},ot={class:"publish-time"},nt=["datetime"],it={class:"last-modify-time"},rt=["datetime"],lt=T({__name:"PostCover",setup(b){const c=X(),{postInfo:a}=c,{infoLoaded:f}=F(c),g=S(()=>{if(a.birthTime!=="")return`发表于${x(a.birthTime)}`}),k=S(()=>{if(a.mTime!=="")return`最后修改于${x(a.mTime)}`});return(h,i)=>(s(),_("div",{class:P({"post-banner":!0,"--shown":h.$route.name===":postName"})},[t("img",{class:"cover-img",src:n(a).coverUrl},null,8,Z),i[3]||(i[3]=t("div",{class:"banner-mask"},null,-1)),H(t("header",tt,[t("h1",et,p(n(a).title),1),t("div",st,[t("div",at,[t("span",ot,[i[0]||(i[0]=t("i",{class:"meta-icon iconfont icon-calendar"},null,-1)),t("time",{datetime:n(a).birthTime},p(g.value),9,nt)]),t("span",it,[i[1]||(i[1]=t("i",{class:"meta-icon iconfont icon-edit"},null,-1)),t("time",{datetime:n(a).birthTime},p(k.value),9,rt)])]),i[2]||(i[2]=I('<div class="meta-line" data-v-293501f8><span class="post-length" data-v-293501f8><i class="meta-icon iconfont icon-text" data-v-293501f8></i><span data-v-293501f8>共字</span></span><span class="read-time" data-v-293501f8><i class="meta-icon iconfont icon-time" data-v-293501f8></i><span data-v-293501f8>读完大约需要</span></span></div>',1))])],512),[[E,n(f)]])],2))}}),ct=D(lt,[["__scopeId","data-v-293501f8"]]),dt={key:0,class:"side-cards"},mt={class:"info-card",key:"side-card-categories"},ut={class:"categories"},_t=["onClick"],pt={class:"category-label"},ft={class:"category-total"},gt={class:"info-card",key:"side-card-tags"},vt={class:"tags"},ht=["onClick"],yt={class:"tag-label"},kt={class:"tag-total"},$t=T({__name:"SideCards",async setup(b){let c,a;const{mounted:f}=Y(),{cate:g,tag:k}=([c,a]=q(()=>G()),c=await c,a(),c);function h(r,e){let l=[],o=!1;if(r){const v=Array.isArray(r)?r:Object.entries(r);l=v.slice(0,e),o=v.length>e}return{shownData:l,hasMore:o}}const{shownData:i,hasMore:z}=h(g,8),{shownData:L,hasMore:j}=h(k,75),$=O("bloggerCard"),w=U(""),A=r=>{if(!$.value)return;const e=$.value.$el,l=r.getBoundingClientRect().top,o=e.getBoundingClientRect().top;w.value=`${(l-o).toFixed(4)}px`};return(r,e)=>{const l=V("RouterLink");return s(),d(M,{name:"side-card-appear"},{default:m(()=>[n(f)?(s(),_("aside",dt,[y(J,{key:"side-card-blogger",ref_key:"bloggerCard",ref:$},null,512),n(f)?(s(),d(K,{key:0,name:"card-toggle",tag:"div",class:"sticky-cards",style:Q({"--relative-top":w.value}),onBeforeLeave:A},{default:m(()=>[e[4]||(e[4]=t("div",{class:"info-card",key:"side-card-announcement"},[t("h3",null,[t("i",{class:"title-icon shake-loudspeaker iconfont icon-zizhutuiguang"}),t("span",{class:"title-label"},"公告")]),t("div",{class:"announcement-content"},[t("p",null,"欢迎来到我的个人博客！"),t("p",null,"本博客还在建设中，正在积极优化浏览体验~")])],-1)),r.$route.name!=="categories"?(s(),_("div",mt,[e[1]||(e[1]=t("h3",null,[t("i",{class:"title-icon iconfont icon-wenjianjia"}),t("span",{class:"title-label"},"分类")],-1)),t("ul",ut,[(s(!0),_(N,null,B(n(i),([o,v])=>(s(),d(l,{key:`side-card-cate-${o}`,custom:"",to:{name:":categoryName",params:{categoryName:o}}},{default:m(({navigate:C})=>[t("li",{class:"category-item",onClick:C,role:"link"},[t("span",pt,p(o),1),t("span",ft,"（"+p(v)+"）",1)],8,_t)]),_:2},1032,["to"]))),128))]),n(z)?(s(),d(l,{key:0,to:{name:"categories"},class:"has-more"},{default:m(()=>e[0]||(e[0]=[R(" 查看更多 ")])),_:1})):u("",!0)])):u("",!0),r.$route.name!=="tags"?(s(),_("div",gt,[e[3]||(e[3]=t("h3",null,[t("i",{class:"title-icon iconfont icon-24gf-tags2"}),t("span",{class:"title-label"},"标签")],-1)),t("ul",vt,[(s(!0),_(N,null,B(n(L),([o,v])=>(s(),d(l,{key:`side-card-tag-${o}`,custom:"",to:{name:":tagName",params:{tagName:o}}},{default:m(({navigate:C})=>[t("li",{class:"tag-item",onClick:C,role:"link"},[t("span",yt,p(o),1),t("sup",kt,p(v),1)],8,ht)]),_:2},1032,["to"]))),128))]),n(j)?(s(),d(l,{key:0,to:{name:"tags"},class:"has-more"},{default:m(()=>e[2]||(e[2]=[R(" 查看更多 ")])),_:1})):u("",!0)])):u("",!0)]),_:1},8,["style"])):u("",!0)])):u("",!0)]),_:1})}}}),Ct=D($t,[["__scopeId","data-v-07e93e40"]]),Tt={class:"blog-content-home"},bt={class:"content-main"},Nt=T({__name:"index",setup(b){return(c,a)=>{const f=V("RouterView");return s(),_("main",Tt,[y(ct),t("div",bt,[y(Ct),y(f,null,{default:m(({Component:g})=>[g?(s(),d(M,{key:0,name:"fade-slide-y",mode:"out-in"},{default:m(()=>[(s(),d(W(g),{class:"main-right"}))]),_:2},1024)):u("",!0)]),_:1})])])}}});export{Nt as default};
