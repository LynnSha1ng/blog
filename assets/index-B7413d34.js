import{d as x,u as E,s as F,c as N,o as s,a as l,b as t,e as n,w as b,v as T,t as _,f as I,n as A,g as R,_ as P,h as q,i as G,j as O,r as U,k as j,l as v,m,p,B as J,F as D,q as V,x as h,y as M,z as K,T as Q,A as H,C as W}from"./index-D9ldzl09.js";const X=["src"],Y={class:"post-info"},Z={class:"post-title"},tt={class:"post-meta"},et={class:"date-related"},st={class:"publish-time"},at=["datetime"],ot={class:"last-modify-time"},nt=["datetime"],it=x({__name:"PostCover",setup(w){const r=E(),{postInfo:a}=r,{ready:g,atPostPage:u}=F(r),y=N(()=>{if(a.birthTime!=="")return`发表于${R(a.birthTime)}`}),k=N(()=>{if(a.mTime!=="")return`最后修改于${R(a.mTime)}`});return(S,i)=>(s(),l("div",{class:A({"post-banner":!0,"--shown":n(u)})},[t("img",{class:"cover-img",src:n(a).coverUrl},null,8,X),i[3]||(i[3]=t("div",{class:"banner-mask"},null,-1)),b(t("header",Y,[t("h1",Z,_(n(a).title),1),t("div",tt,[t("div",et,[t("span",st,[i[0]||(i[0]=t("i",{class:"meta-icon iconfont icon-calendar"},null,-1)),t("time",{class:"meta-txt",datetime:n(a).birthTime},_(y.value),9,at)]),t("span",ot,[i[1]||(i[1]=t("i",{class:"meta-icon iconfont icon-edit"},null,-1)),t("time",{class:"meta-txt",datetime:n(a).birthTime},_(k.value),9,nt)])]),i[2]||(i[2]=I('<div class="cont-related" data-v-2271c2d2><span class="post-length" data-v-2271c2d2><i class="meta-icon iconfont icon-text" data-v-2271c2d2></i><span class="meta-txt" data-v-2271c2d2>共字</span></span><span class="read-time" data-v-2271c2d2><i class="meta-icon iconfont icon-time" data-v-2271c2d2></i><span class="meta-txt" data-v-2271c2d2>读完大约需要</span></span></div>',1))])],512),[[T,n(g)]])],2))}}),ct=P(it,[["__scopeId","data-v-2271c2d2"]]),lt={class:"info-card",key:"side-card-categories"},rt={key:0,class:"categories"},dt=["onClick"],mt={class:"category-label"},ut={class:"category-total"},_t={class:"info-card",key:"side-card-tags"},pt={key:0,class:"tags"},gt=["onClick"],ft={class:"tag-label"},ht={class:"tag-total"},vt={class:"info-card",key:"side-card-link-exchange"},yt=x({__name:"SideCards",async setup(w){let r,a;const{cate:g,tag:u}=([r,a]=q(()=>G()),r=await r,a(),r),y=(d,e)=>{let c,o=!1;if(d){const f=Object.entries(d);c=f.slice(0,e),o=f.length>e}return{shownData:c,hasMore:o}},{shownData:k,hasMore:S}=y(g,5),{shownData:i,hasMore:L}=y(u,2),C=O("bloggerCard"),B=U(""),z=d=>{if(!C.value)return;const e=C.value.$el,c=d.getBoundingClientRect().top,o=e.getBoundingClientRect().top;B.value=`${(c-o).toFixed(4)}px`};return(d,e)=>{const c=j("RouterLink");return s(),v(H,{appear:"",name:"side-card-appear"},{default:m(()=>[p(Q,{name:"card-toggle",tag:"aside",class:"side-cards",style:K({"--relative-top":B.value}),onBeforeLeave:z},{default:m(()=>[p(J,{key:"side-card-blogger",ref_key:"bloggerCard",ref:C},null,512),d.$route.name!=="categories"?(s(),l("div",lt,[e[1]||(e[1]=t("h3",null,[t("i",{class:"title-icon iconfont icon-wenjianjia"}),t("span",{class:"title-label"},"分类")],-1)),n(g)?(s(),l("ul",rt,[(s(!0),l(D,null,V(n(k),([o,f])=>(s(),v(c,{key:`side-card-cate-${o}`,custom:"",to:{name:":categoryName",params:{categoryName:o}}},{default:m(({navigate:$})=>[t("li",{class:"category-item",onClick:$,role:"link"},[t("span",mt,_(o),1),t("span",ut,"（"+_(f)+"）",1)],8,dt)]),_:2},1032,["to"]))),128))])):h("",!0),b(p(c,{to:{name:"categories"},class:"has-more"},{default:m(()=>e[0]||(e[0]=[M(" 查看更多 ")])),_:1},512),[[T,n(S)]])])):h("",!0),d.$route.name!=="tags"?(s(),l("div",_t,[e[3]||(e[3]=t("h3",null,[t("i",{class:"title-icon iconfont icon-24gf-tags2"}),t("span",{class:"title-label"},"标签")],-1)),n(u)?(s(),l("ul",pt,[(s(!0),l(D,null,V(n(i),([o,f])=>(s(),v(c,{key:`side-card-tag-${o}`,custom:"",to:{name:":tagName",params:{tagName:o}}},{default:m(({navigate:$})=>[t("li",{class:"tag-item",onClick:$,role:"link"},[t("span",ft,_(o),1),t("sup",ht,_(f),1)],8,gt)]),_:2},1032,["to"]))),128))])):h("",!0),b(p(c,{to:{name:"tags"},class:"has-more"},{default:m(()=>e[2]||(e[2]=[M(" 查看更多 ")])),_:1},512),[[T,n(L)]])])):h("",!0),d.$route.name!=="link-exchange"?(s(),l("div",vt,e[4]||(e[4]=[t("h3",null,[t("i",{class:"title-icon iconfont icon-youlian-f"}),t("span",{class:"title-label"},"友链")],-1)]))):h("",!0)]),_:1},8,["style"])]),_:1})}}}),kt=P(yt,[["__scopeId","data-v-0b7b3d9e"]]),Ct={key:0,class:"blog-home"},$t={class:"blog-content"},Tt=x({__name:"index",setup(w){return(r,a)=>{const g=j("RouterView");return s(),v(g,null,{default:m(({Component:u})=>[u?(s(),l("main",Ct,[p(ct),t("div",$t,[p(kt),p(H,{name:"fade-slide-y",mode:"out-in"},{default:m(()=>[(s(),v(W(u),{class:"pos-right-fill"}))]),_:2},1024)])])):h("",!0)]),_:1})}}});export{Tt as default};
